

particle_filter_args:
  num_particles: 1000
  ESS_threshold: 0.5


plotting_args:
  states_to_plot: [0, 1, 2]
  state_names: ['Hold up', 'Pressure', 'Velocity']
  pars_to_plot: [0, 1]
  par_names: ['Leak location', 'Leak size']


prior_pars:
  type: 'uniform'
  lower_bound: [10.0, 1.]
  upper_bound: [4990, 2.]
  num_pars: 2

model_type: 'neural_network'
backend: 'torch'

forward_model_args:
  num_skip_steps: 10
  PDE_step_size: 0.01
  space_dim: 512
  x_max: 5000
  batch_size: 512
  num_PDE_states: 3
  num_pars: 2
  initial_condition_path: data/multi_phase_pipeflow_with_leak/initial_conditions
  model_args:
    AE_model_type: 'WAE'
    AE_model_path: 'multi_phase/autoencoders/WAE_8_latent_0.0001_consistency_0.01_channels_128_layers_6_trans_layers_2_embedding_64_vit'
    time_stepping_model_path: 'multi_phase/time_steppers/transformer'
    preprocessor_path: 'multi_phase/preprocessor.pkl'
    num_previous_steps: 32
    phase: 'multi'

observation_args:
  noise_variance: 5.0e-5
  observation_times: [400, 800, 1200, 1600, 2000, 2400, 2800, 3200, 3600, 4000, 4400, 4800, 5200, 5600, 6000, 6400, 6800, 7200, 7600, 8000,
                      8400, 8800, 9200, 9600, 10000, 10400, 10800, 11200, 11600, 12000, 12400, 12800, 13200, 13600, 14000, 14400, 14800, 15200, 
                      15600, 16000, 16400, 16800, 17200, 17600]
  
  #[400, 600, 800, 1000, 1200, 1400, 1600, 1800, 2000, 2200, 2400, 2600, 2800, 3000, 3200, 3400, 3600, 3800, 4000, 
  #                    4200, 4400, 4600, 4800, 5000, 5200, 5400, 5600, 5800, 6000, 6200, 6400, 6600, 6800, 7000, 7200, 7400, 7600, 7800,]
                      #8000, 8200, 8400, 8600, 8800, 9000, 9200, 9400, 9600, 9800, 10000, 10200, 10400, 10600, 10800, 11000, 11200,]
  
  full_time_points: [0, 180, 18000]
  #full_time_points: [0, 180, 18000]

observation_operator_args:
  observation_state_ids: [2]
  #observation_space_ids: [10, 250, 500]
  observation_space_ids: [10, 50, 100, 250, 300, 350, 400, 450, 500]
  full_space_points: [0, 5000, 512]

likelihood_args:
  noise_variance: 1.0e-2

model_error_args:
  state_noise_variance: 0.0001
  parameter_noise_variance: [0.000001, 0.0000001]
  
